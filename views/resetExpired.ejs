<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Link Expired - GamePlan</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
</head>
<body>
    <div class="container">
        <div class="auth-container">
            <div class="error-header">
                <div class="error-icon">‚è∞</div>
                <h1>üéÆ GamePlan</h1>
                <h2>Reset Link Expired</h2>
            </div>

            <div class="error-message">
                <p><%= error %></p>
            </div>

            <div class="explanation">
                <h3>Why did this happen?</h3>
                <ul>
                    <li><strong>Security measure:</strong> Reset links expire after 1 hour for your protection</li>
                    <li><strong>One-time use:</strong> Each reset link can only be used once</li>
                    <li><strong>Already used:</strong> This link may have already been used to reset your password</li>
                </ul>
            </div>

            <div class="action-buttons">
                <a href="/forgot-password" class="btn btn-primary btn-full">
                    Request New Reset Link
                </a>
                <a href="/login" class="btn btn-secondary btn-full">
                    Try Logging In
                </a>
            </div>

            <div class="help-section">
                <h3>Need Help?</h3>
                <div class="help-options">
                    <div class="help-option">
                        <h4>üîÑ Request a New Link</h4>
                        <p>Click "Request New Reset Link" above to get a fresh password reset email.</p>
                    </div>
                    <div class="help-option">
                        <h4>üîë Remember Your Password?</h4>
                        <p>If you remember your password, try logging in directly.</p>
                    </div>
                    <div class="help-option">
                        <h4>üìß Check Your Email</h4>
                        <p>Make sure to use the most recent password reset email you received.</p>
                    </div>
                </div>
            </div>

            <div class="security-info">
                <h3>üîí Security Information</h3>
                <p>Password reset links expire quickly to protect your account from unauthorized access. 
                   This ensures that even if someone gains access to your email later, they cannot use 
                   old reset links to compromise your account.</p>
            </div>

            <% if (isDevelopmentAutoLogin) { %>
                <div class="dev-notice">
                    <p><strong>Development Mode:</strong> Auto-login is enabled</p>
                </div>
            <% } %>
        </div>
    </div>

    <style>
        .auth-container {
            max-width: 550px;
            margin: 50px auto;
            padding: 30px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .error-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .error-icon {
            font-size: 4em;
            margin-bottom: 10px;
            color: #ffc107;
        }

        .error-header h1 {
            color: #007bff;
            margin: 0 0 10px 0;
            font-size: 2.5em;
        }

        .error-header h2 {
            color: #dc3545;
            margin: 0;
            font-size: 1.8em;
        }

        .error-message {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
            text-align: center;
        }

        .error-message p {
            margin: 0;
            font-size: 1.1em;
            font-weight: 500;
        }

        .explanation, .help-section, .security-info {
            margin: 25px 0;
        }

        .explanation h3, .help-section h3, .security-info h3 {
            color: #333;
            margin: 0 0 15px 0;
            font-size: 1.2em;
            border-bottom: 2px solid #007bff;
            padding-bottom: 5px;
        }

        .explanation ul {
            margin: 0;
            padding-left: 20px;
            color: #555;
        }

        .explanation li {
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .explanation li strong {
            color: #333;
        }

        .help-options {
            display: grid;
            gap: 15px;
        }

        .help-option {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
        }

        .help-option h4 {
            margin: 0 0 8px 0;
            color: #495057;
            font-size: 1em;
        }

        .help-option p {
            margin: 0;
            color: #6c757d;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .security-info p {
            color: #555;
            line-height: 1.5;
            margin: 0;
        }

        .action-buttons {
            margin: 30px 0 20px 0;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            margin-bottom: 10px;
        }

        .btn-primary {
            background-color: #007bff;
            color: white;
        }

        .btn-primary:hover {
            background-color: #0056b3;
        }

        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background-color: #545b62;
        }

        .btn-full {
            width: 100%;
        }

        .dev-notice {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 10px;
            border-radius: 5px;
            margin-top: 20px;
            text-align: center;
            font-size: 0.9em;
        }

        @media (max-width: 480px) {
            .auth-container {
                margin: 20px;
                padding: 20px;
            }

            .error-header h1 {
                font-size: 2em;
            }

            .error-header h2 {
                font-size: 1.5em;
            }

            .error-icon {
                font-size: 3em;
            }
        }

        /* Animation for error icon */
        .error-icon {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }
    </style>
</body>
</html>
